<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <title>Chrome Voice Nav</title>
  
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>  
    <script type="text/javascript">
// 2. This code loads the IFrame Player API code asynchronously.
                var tag = document.createElement('script');
                tag.src = "http://www.youtube.com/iframe_api";
                var firstScriptTag = document.getElementsByTagName('script')[0];
                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

                // 3. This function creates an <iframe> (and YouTube player)
                //    after the API code downloads.
                var player;
                function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                height: '640',
                width: '940',
                videoId: 'NFTaiWInZ44',
                events: {
                'onReady': onPlayerReady,
                'onStateChange': onPlayerStateChange
                }
                });
                }

                // 4. The API will call this function when the video player is ready.
                function onPlayerReady(event) {
                //event.target.playVideo();
                }

                // 5. The API calls this function when the player's state changes.
                //    The function indicates that when playing a video (state=1),
                //    the player should play for six seconds and then stop.
                var done = false;
                function onPlayerStateChange(event) {
                if (event.data == YT.PlayerState.PLAYING && !done) {
                //setTimeout(stopVideo, 6000);
                done = true;
                }
                }
                function stopVideo() {
                player.stopVideo();
                }
                
                function processspeech()
                {
                var speechtext=$("#speech").val();
                var flag=1;
                switch (speechtext)
                {
                    case "play":             
                        
                        $("#play").click();
                        break;
                    case "stop":
                        $("#stop").click();
                        break;
                    case "pause":
                        //$("#repeat").click();
                        $("#pause").click();
                        break;
                    case "back":
                        //$("#start").click();
                        
                        window.location =  'index.html';
                        break;
                    default:
                        flag=0;
                        for (i=1;i<=3;i++) $("#speechinput").animate({"border-color":"#900"},500).animate({"border-color":"#fff"},500);
                }
                if (flag==1) for (i=1;i<=3;i++) $("#speechinput").animate({"border-color":"#060"},500).animate({"border-color":"#fff"},500);
                else
                {
                   // var notification="\"<span style=\"color:#F00; text-transform:uppercase;\">"+ speechtext + "<\/span>\" is an invalid voice command.<br />*Valid voice /commands are: CHAT, VIDEO, PICTURE, LIVE, CONTACT";
                    //notify(notification);
                }
                }




    </script>
    <link type="text/css" rel="stylesheet" href="style.css">
    <style type="text/css">
.player-wrapper {
        width:940px;
        margin-left: auto;
        margin-right: auto; 
    }
    </style>
</head>

<body>
    <div class="row">
        <div class="twelve columns">

       <h2> Click the microphone and use the voice commands Play, Stop, Pause, and Back to control the videos.</h2>
          
            <dl class="tabs" style="display:none;">
                <dd><a id="play" title="" class="white" href="javascript:void(0)" onclick="player.playVideo()">Play</a></dd>

                <dd><a id="stop" title="" class="white" href="javascript:void(0)" onclick="player.stopVideo()">Stop</a></dd>

                <dd><a id="pause" title="" class="white" href="javascript:void(0)" onclick="player.pauseVideo()">Pause</a></dd>

                <dd><a id="next" title="" class="white">Next</a></dd>
            </dl>
        </div>
    </div>

    <div class="row">
        <div class="twelve columns">
            <div class="panel">
              <div id="speechinput" style="margin-top:20px;">
                <input id="speech" type="text" speech="speech" x-webkit-speech="x-webkit-speech" onspeechchange="processspeech();" onwebkitspeechchange="processspeech();">
            </div>

             
                <div class="player-wrapper">
                    <div id="player"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="twelve columns">
            <div class="panel"></div>
        </div>
    </div>
</body>
</html>
